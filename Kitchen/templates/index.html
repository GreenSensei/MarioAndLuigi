<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='mystyle.css') }}">
    <style>
        /* Define a CSS class for "Done" orders */
        .done-order {
            background-color: #c0c0c0; /* Change the background color to gray */
        }
    </style>
    <title>Mario and Luigi's Pizzeria</title>
</head>
<body class="mainpage">
    <div class="title">
        <img class="logo" src="../V2/mariologo.png">
        <h1>Kitchen Orders</h1>
    </div>
    <div class="order-list">
        {% for order in orders %}
        <!-- Order {{ order.id }} -->
        <div class="order-section" id="order{{ order.id }}">
            <h2>Order #{{ order.id }}</h2>
            <p>Product Name: {{ order.product_name | safe }}</p>
            <p>Total Price: â‚¬{{ order.total_price }}</p>
            <a class="order-button button" href="#" data-order-id="{{ order.id }}">Ready</a>
        </div>
        {% endfor %}
    </div>
    <button id="addOrderButton">Add Order</button>
    <script>
        // Get all "Ready" buttons
        const readyButtons = document.querySelectorAll('.order-button');

        // Add a click event listener to each "Ready" button
        readyButtons.forEach((button) => {
            button.addEventListener('click', (event) => {
                event.preventDefault(); // Prevent the default link behavior
                const orderSection = button.closest('.order-section');
                if (orderSection.classList.contains('done-order')) {
                    // If it's marked as "Done," remove the "done-order" class
                    orderSection.classList.remove('done-order');
                    button.textContent = 'Ready';
                } else {
                    // If it's not marked as "Done," add the "done-order" class
                    orderSection.classList.add('done-order');
                    button.textContent = 'Done';
                }
            });
        });
    </script>
</body>
</html>
